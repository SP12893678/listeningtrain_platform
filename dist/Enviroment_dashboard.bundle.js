(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{722:function(e,t,n){var a=n(734);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(98).default)("dc3e8ea0",a,!1,{})},732:function(e,t){e.exports="data:image/png;base64,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"},733:function(e,t,n){"use strict";var a=n(722);n.n(a).a},734:function(e,t,n){(t=n(97)(!1)).push([e.i,"\n.jf-title[data-v-27c99e28] {\r\n    font-size: 32px;\n}\r\n",""]),e.exports=t},754:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"jf-title pa-2"},[e._v("\n        情境教材\n      ")])],1),e._v(" "),a("v-text-field",{attrs:{"data-v-step":"Enviroment-dashboard-search","append-icon":"mdi-magnify",label:"情境教材搜尋","single-line":"","hide-details":""},model:{value:e.enviro_cards.search,callback:function(t){e.$set(e.enviro_cards,"search",t)},expression:"enviro_cards.search"}})],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list-item",{staticClass:"mt-4",attrs:{"two-line":""}},[a("v-list-item-content",[a("v-pagination",{attrs:{length:e.getPaginationPages,"data-v-step":"Enviroment-dashboard-pagination","prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right"},model:{value:e.enviro_cards.page,callback:function(t){e.$set(e.enviro_cards,"page",t)},expression:"enviro_cards.page"}}),e._v(" "),e.enviro_cards.loading?e._l(3,(function(e,t){return a("v-card",{key:t,staticClass:"ma-4",attrs:{height:"300",width:"300","max-width":"300"}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"card"}})],1)})):e._e(),e._v(" "),e.enviro_cards.loading?e._e():a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.hover;return[a("v-card",{staticClass:"ma-4",attrs:{elevation:r?10:2,ripple:{class:"white--text"},"max-width":"300",height:"308","data-v-step":"Enviroment-dashboard-new-empty"},on:{click:function(t){return e.goToNewEditPage(-1,-1)}}},[a("v-row",{attrs:{justify:"center","align-self":"center"}},[a("v-col",{attrs:{md:"auto"}},[a("v-row",{attrs:{justify:"center","align-self":"center"}},[a("v-img",{attrs:{src:n(732),height:"230",contain:""}})],1),e._v(" "),a("v-row",{attrs:{justify:"center","align-self":"center"}},[a("v-card-title",[e._v("\n                  使用空白範本新增\n                ")])],1)],1)],1)],1)]}}],null,!1,2380240311)}),e._v(" "),e._l(e.getEnviroCards,(function(t,n){return a("v-hover",{directives:[{name:"show",rawName:"v-show",value:!e.enviro_cards.loading,expression:"!enviro_cards.loading"}],key:t.id+t.name,scopedSlots:e._u([{key:"default",fn:function(r){var i=r.hover;return[a("v-card",{staticClass:"ma-4",attrs:{elevation:i?10:2,ripple:{class:"white--text"},"max-width":"300","data-v-step":"Enviroment-dashboard-card-"+n}},[a("v-img",{attrs:{src:t.background_src,height:"180px"}}),e._v(" "),a("v-card-title",[e._v("\n            "+e._s(t.name)+"\n            "),a("v-spacer"),e._v(" "),a("v-chip",{staticClass:"ma-0",attrs:{color:"orange",outlined:"",small:""}},[a("v-icon",{attrs:{left:""}},[e._v("\n                mdi-format-list-bulleted-type\n              ")]),e._v("\n              "+e._s(t.category)+"\n            ")],1)],1),e._v(" "),a("v-card-subtitle",{staticClass:"pb-1"},[e._v("\n            "+e._s(t.created_time)+"\n          ")]),e._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"blue",text:""},on:{click:function(n){return n.preventDefault(),e.goToEditPage(t.id)}}},[a("v-icon",{attrs:{left:""}},[e._v("\n                mdi-image-edit\n              ")]),e._v("編輯\n            ")],1),e._v(" "),a("v-btn",{attrs:{color:"green",text:""},on:{click:function(n){return n.preventDefault(),e.goToNewEditPage(-1,t.id)}}},[a("v-icon",{attrs:{left:""}},[e._v("\n                mdi-newspaper-plus\n              ")]),e._v("使用此範本新增\n            ")],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"red",icon:""},on:{click:function(n){return e.askDeleteDialog(t.id)}}},[a("v-icon",[e._v("mdi-delete")])],1)],1)],1)]}}],null,!0)})}))],2)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.enviro_cards.delete_dialog,callback:function(t){e.$set(e.enviro_cards,"delete_dialog",t)},expression:"enviro_cards.delete_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("\n        你確定要刪除此教材?\n      ")]),e._v(" "),a("v-card-text",[e._v("如果確認刪除後，將無法在復原。")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.enviro_cards.delete_dialog=!1}}},[e._v("\n          否\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.deleteEnviro()}}},[e._v("\n          是\n        ")])],1)],1)],1),e._v(" "),a("v-snackbar",{attrs:{timeout:e.snackbar.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar.body=!1}}},"v-btn",n,!1),[e._v("\n        Close\n      ")])]}}]),model:{value:e.snackbar.body,callback:function(t){e.$set(e.snackbar,"body",t)},expression:"snackbar.body"}},[e._v("\n    "+e._s(e.snackbar.text)+"\n    ")]),e._v(" "),a("v-tour",{attrs:{name:this.$route.name,steps:e.steps}})],1)};a._withStripped=!0;var r=n(6),i=n.n(r),o=n(13),s=n.n(o),c=n(16),d={data:function(){return{enviro:[],enviro_cards:{search:"",loading:!0,page:1,delete_dialog:!1,delete_id:null},snackbar:{body:!1,text:null,timeout:2e3},steps:[{target:'[data-v-step="Enviroment-dashboard-new-empty"]',header:{title:"以空白情境範本新增教材"},content:"點選後將進入教材編輯頁面，其中情境教材為空白範本形式。",params:{enableScrolling:!1}},{target:'[data-v-step="Enviroment-dashboard-card-0"]',header:{title:"情境教材卡片"},content:"顯示該情境教材相關資訊，<br>另外可使用編輯、使用該範本新增和刪除按鈕對該情境教材進行操作",params:{enableScrolling:!1}},{target:'[data-v-step="Enviroment-dashboard-pagination"]',header:{title:"情境教材分頁欄"},content:"透過分頁欄可切換查看情境教材",params:{enableScrolling:!1}},{target:'[data-v-step="Enviroment-dashboard-search"]',header:{title:"情境教材搜尋欄"},content:"透過輸入關鍵字將顯示與關鍵字相關的情境教材",params:{enableScrolling:!1}}]}},computed:{getEnviroCards:function(){var e=this;return this.enviro.filter((function(t){return t.name.indexOf(e.enviro_cards.search)>=0||t.category.indexOf(e.enviro_cards.search)>=0||t.created_time.indexOf(e.enviro_cards.search)>=0})).filter((function(t,n){return n<10*e.enviro_cards.page&&n>=10*(e.enviro_cards.page-1)}))},getPaginationPages:function(){var e=this,t=this.enviro.filter((function(t){return t.name.indexOf(e.enviro_cards.search)>=0||t.category.indexOf(e.enviro_cards.search)>=0||t.created_time.indexOf(e.enviro_cards.search)>=0}));return Math.ceil(t.length/10)}},mounted:function(){var e=this;return s()(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEnviroData();case 2:e.enviro_cards.loading=!1;case 3:case"end":return t.stop()}}),t)})))()},methods:{goToEditPage:function(e){var t={enviro:{id:e}};this.$emit("passdata",t),this.$router.push("/enviroment-edit").catch((function(e){console.log(e)}))},goToNewEditPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.enviro[0].id,n={enviro:{id:e,simple_id:t}};this.$emit("passdata",n),this.$router.push("/enviroment-edit").catch((function(e){console.log(e)}))},getEnviroData:function(){var e=this;return Object(c.c)({type:"get",amount:"all"}).then((function(t){e.enviro=t.data})).catch((function(e){console.error(e)}))},askDeleteDialog:function(e){this.enviro_cards.delete_id=e,this.enviro_cards.delete_dialog=!0},deleteEnviro:function(){var e=this;return s()(i.a.mark((function t(){var n,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.enviro_cards.delete_id,a=e.enviro.filter((function(e){return e.id==n}))[0].object,r=a.split(","),t.next=5,Object(c.j)({type:"delete",items:r});case 5:return t.next=7,Object(c.c)({type:"delete",id:n}).then((function(t){e.enviro_cards.delete_dialog=!1,e.snackbar.text=t.data.result?"刪除成功":"刪除失敗",e.snackbar.body=!0})).catch((function(e){console.error(e)}));case 7:return t.next=9,e.getEnviroData();case 9:case"end":return t.stop()}}),t)})))()}}},v=(n(733),n(79)),l=Object(v.a)(d,a,[],!1,null,"27c99e28",null);l.options.__file="src/components/manage/Enviroment-dashboard.vue";t.default=l.exports}}]);